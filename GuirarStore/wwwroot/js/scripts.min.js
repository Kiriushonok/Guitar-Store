document.addEventListener("DOMContentLoaded",()=>{const t=document.getElementById("filter-form"),n=document.querySelectorAll(".product-card-box"),r=[{element:n[0],name:"Yamaha F310",price:25e3,type:"acoustic",brand:"yamaha"},{element:n[1],name:"Fender Stratocaster",price:12e4,type:"electric",brand:"fender"},{element:n[2],name:"Ibanez GSR200",price:8e4,type:"bass",brand:"ibanez"},{element:n[3],name:"Gibson Les Paul",price:14e4,type:"electric",brand:"gibson"},{element:n[4],name:"Fender Precision Bass",price:9e4,type:"bass",brand:"fender"},{element:n[5],name:"Gibson Les Paul Standard",price:15e4,type:"electric",brand:"gibson"}];t.addEventListener("submit",n=>{n.preventDefault();const f=t["guitar-type"].value;let i=parseInt(t["price-min"].value),u=parseInt(t["price-max"].value);const e=t.brand.value;if(isNaN(i)&&(i=0),isNaN(u)&&(u=Infinity),i>u){alert("Некорректные фильтры по цене: минимальная цена больше максимальной.");return}r.forEach(n=>{const t=f===""||n.type===f,r=n.price>=i&&n.price<=u,o=e===""||n.brand===e;n.element.style.display=t&&r&&o?"block":"none"})});document.querySelectorAll(".product-card-box").forEach(n=>{n.addEventListener("mouseenter",function(){this.style.transform="scale(1.05)";this.style.boxShadow="0 6px 20px rgba(0, 0, 0, 0.2)";this.style.backgroundColor="rgba(0, 0, 0, 0.05)"}),n.addEventListener("mouseleave",function(){this.style.transform="scale(1)";this.style.boxShadow="";this.style.backgroundColor=""})});const i=document.getElementById("back-to-top");window.addEventListener("scroll",()=>{i.style.display=window.scrollY>300?"block":"none"});i.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})})});document.getElementById("service-form").addEventListener("submit",function(n){n.preventDefault();let t=!0;const f=document.getElementById("guitar-brand").value.trim(),e=document.getElementById("guitar-type").value.trim(),o=document.getElementById("guitar-model").value.trim(),i=document.getElementById("year").value.trim(),r=document.getElementById("price").value.trim(),u=document.getElementById("guitar-photo").files[0];document.querySelectorAll(".error").forEach(n=>n.textContent="");document.getElementById("success-message").textContent="";f||(document.getElementById("guitar-brand-error").textContent="Введите бренд гитары.",t=!1);e||(document.getElementById("guitar-type-error").textContent="Введите тип гитары.",t=!1);o||(document.getElementById("guitar-model-error").textContent="Введите модель гитары.",t=!1);const s=(new Date).getFullYear();(!/^\d{4}$/.test(i)||i<2e3||i>s)&&(document.getElementById("year-error").textContent="Год выпуска должен быть в диапазоне от 2000 до текущего года.",t=!1);(!/^\d+$/.test(r)||r<=0)&&(document.getElementById("price-error").textContent="Введите корректную цену в рублях.",t=!1);u?["image/jpeg","image/png"].includes(u.type)||(document.getElementById("guitar-photo-error").textContent="Фото должно быть в формате .jpg или .png.",t=!1):(document.getElementById("guitar-photo-error").textContent="Прикрепите фото гитары.",t=!1);t&&(document.getElementById("success-message").textContent="Гитара успешно добавлена!",this.reset())});document.addEventListener("DOMContentLoaded",()=>{function i(){const t=-n*100;f.style.transform=`translateX(${t}%)`}const r=document.querySelector(".prev-btn"),u=document.querySelector(".next-btn"),f=document.querySelector(".carousel-images"),t=document.querySelectorAll(".guitar-image");let n=0;u.addEventListener("click",()=>{n=(n+1)%t.length,i()});r.addEventListener("click",()=>{n=(n-1+t.length)%t.length,i()});i()});